<!DOCTYPE html>
<html>
<head>
    <title>Select Start Date</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script>
        const messages = [
            "Sweeping cobwebs from the scheduler...",
            "Calculating the past...",
            "Reticulating splines...",
            "Bribing the time gremlins...",
            "Polishing the cogwheels...",
            "Generating massive profits...",
            "Profits failed...",
            "Retrying....",
            "Changing dimensions to 6...",
            "Switching to the quantum computer...",
            "Turning to alcohol in despair...",
            "Rebooting the universe...",
            "Thats better...",
            "Fitting a month's work into a week...",
            "Adding more hours to the day...",
            "Conjuring machines from the ether...",
            "Hiring more workers...",
            "Firing the workers...",
            "Scheduling the schedule...",
            "Have you tried turning it on and off again?",
            "It looks like we're stuck, but I promise we're not",
            "Just a few more seconds...",
            "I'm almost there...",
            "If you're going to wait, you might as well make a cup of tea",
            "Adjusting for lunar cycles...",
            "Consulting the oracle at Delphi...",
            "Warming up the flux capacitor...",
            "Negotiating with the chaos butterflies...",
            "Unraveling the fabric of time...",
            "Pacifying the machine spirits...",
            "Optimizing the coffee-to-code ratio...",
            "Summoning extra-dimensional workers...",
            "Debugging the debugger...",
            "Overclocking the hamster wheel...",
            "Realigning the planetary gears...",
            "Feeding the schedule gnomes...",
            "Balancing the cosmic ledger...",
            "Rewriting history for efficiency...",
            "Counting all the nanoseconds..."
        ];

        function showLoadingMessages() {
            const terminal = document.getElementById('terminal');
            terminal.style.display = 'block';
            terminal.innerHTML = '';
            
            let index = 0;
            function appendNextMessage() {
                if (index < messages.length) {
                    terminal.innerHTML += messages[index] + '\n';
                    terminal.scrollTop = terminal.scrollHeight;
                    index++;
                    setTimeout(appendNextMessage, 500);
                }
            }
            appendNextMessage();
            
            setTimeout(() => {
                document.getElementById('scheduleForm').submit();
            }, messages.length * 500);
            
            return false;
        }
    </script>
</head>
<body>
    <h1>Select Schedule Start Date</h1>
    <form id="scheduleForm" action="/schedule" method="POST" onsubmit="return showLoadingMessages()" class="input-form">
        <label for="start_date">Start Date:</label>
        <input type="datetime-local" id="start_date" name="start_date" value="{{ default_date }}" required>
        <button type="submit">Generate Schedule</button>
    </form>
    <div id="terminal"></div>

    <h2>Current Jobs</h2>
    <table class="data-table">
        <tr>
            <th>Job ID</th>
            <th>Description</th>
            <th>Client</th>
            <th>Quantity</th>
        </tr>
        {% for job in jobs %}
        <tr>
            <td>{{ job.job_id }}</td>
            <td>{{ job.description }}</td>
            <td>{{ job.client }}</td>
            <td>{{ job.quantity }}</td>
        </tr>
        {% endfor %}
    </table>

    <a href="/add_resource">Add Resource</a><br>
    <a href="/add_job">Add Job</a><br>
    <a href="/add_task">Add Task</a><br>
</body>
</html>