<!DOCTYPE html>
<html>
<head>
    <title>Select Start Date</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        form { display: inline-block; }
        label { font-size: 18px; margin-right: 10px; }
        input[type="datetime-local"] { padding: 5px; }
        button { padding: 8px 16px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #terminal { 
            display: none; 
            width: 600px; 
            height: 200px; 
            background: #000; 
            color: #0f0; 
            font-family: 'Courier New', Courier, monospace; 
            text-align: left; 
            padding: 10px; 
            margin: 20px auto; 
            border: 1px solid #333; 
            overflow-y: auto; 
            white-space: pre-wrap; 
        }
    </style>
    <script>
        const messages = [
            "Sweeping cobwebs from the scheduler...",
            "Calculating the past...",
            "Reticulating splines...",
            "Bribing the time gremlins...",
            "Polishing the cogwheels...",
            "Generating massive profits...",
            "Profits failed...",
            "Retrying....",
            "Changing dimensions to 6...",
            "Switching to the quantum computer...",
            "Turning to alcohol in despair...",
            "Rebooting the universe...",
            "Thats better...",
            "Fitting a month's work into a week...",
            "Adding more hours to the day...",
            "Conjuring machines from the ether...",
            "Hiring more workers...",
            "Firing the workers...",
            "Scheduling the schedule...",
            "Have you tried turning it on and off again?",
            "Sweeping cobwebs from the scheduler...",
            "Calculating the past...",
            "Reticulating splines...",
            "Bribing the time gremlins...",
            "Polishing the cogwheels...",
            "Generating massive profits...",
            "Profits failed...",
            "Retrying....",
            "Changing dimensions to 6...",
            "Switching to the quantum computer...",
            "Turning to alcohol in despair...",
            "Rebooting the universe...",
            "Thats better...",
            "Fitting a month's work into a week...",
            "Adding more hours to the day...",
            "Conjuring machines from the ether...",
            "Hiring more workers...",
            "Firing the workers...",
            "Scheduling the schedule...",
            "Have you tried turning it on and off again?",
            "Sweeping cobwebs from the scheduler...",
            "Calculating the past...",
            "Reticulating splines...",
            "Bribing the time gremlins...",
            "Polishing the cogwheels...",
            "Generating massive profits...",
            "Profits failed...",
            "Retrying....",
            "Changing dimensions to 6...",
            "Switching to the quantum computer...",
            "Turning to alcohol in despair...",
            "Rebooting the universe...",
            "Thats better...",
            "Fitting a month's work into a week...",
            "Adding more hours to the day...",
            "Conjuring machines from the ether...",
            "Hiring more workers...",
            "Firing the workers...",
            "Scheduling the schedule...",
            "Have you tried turning it on and off again?",
            "It looks like we're stuck, but I promise we're not",
            "Just a few more seconds...",
            "I'm almost there...",
            "If you're going to wait, you might as well make a cup of tea"
        ];

        function showLoadingMessages() {
            const terminal = document.getElementById('terminal');
            terminal.style.display = 'block';
            terminal.innerHTML = ''; // Start fresh each submission
            
            let index = 0;
            function appendNextMessage() {
                if (index < messages.length) {
                    terminal.innerHTML += messages[index] + '\n';
                    terminal.scrollTop = terminal.scrollHeight; // Scroll to bottom
                    index++;
                    setTimeout(appendNextMessage, 500); // 0.5 seconds per message
                }
            }
            appendNextMessage();
            
            // Submit the form after all messages (10 seconds total)
            setTimeout(() => {
                document.getElementById('scheduleForm').submit();
            }, messages.length * 2000);
            
            return false; // Prevent immediate form submission
        }
    </script>
</head>
<body>
    <h1>Select Schedule Start Date</h1>
    <form id="scheduleForm" action="/schedule" method="POST" onsubmit="return showLoadingMessages()">
        <label for="start_date">Start Date:</label>
        <input type="datetime-local" id="start_date" name="start_date" value="{{ default_date }}" required>
        <button type="submit">Generate Schedule</button>
    </form>
    <div id="terminal"></div>
</body>
</html>